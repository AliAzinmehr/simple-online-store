# README -- مستند جلسات ۱ تا ۷

## جلسه اول: تحلیل و طراحی اولیه پروژه

**هدف:** درک کامل پروژه و آماده‌سازی ساختار اولیه\
**موارد انجام‌شده:** - تحلیل نیازمندی‌ها و مستندسازی الزامات - طراحی مدل
پایگاه داده (ERD) شامل کاربران، محصولات، سفارش‌ها و جزئیات سفارش - انتخاب
فناوری‌ها: - Backend: Node.js - Frontend: HTML/CSS - Database: MySQL -
Version Control: Git - راه‌اندازی مخزن Git و ایجاد README اولیه

**تحویل‌دادنی‌ها:** - سند PDF/Word شامل: توضیح پروژه، ERD، فناوری‌ها - مخزن
Git با فایل README و دستورالعمل نصب و اجرا

------------------------------------------------------------------------

## جلسه دوم: پیاده‌سازی پایگاه داده و ساختار اولیه

**هدف:** آماده‌سازی دیتابیس و اسکلت اولیه پروژه\
**موارد انجام‌شده:** - ایجاد دیتابیس MySQL و جداول بر اساس ERD - ساخت یک
سرور اولیه با Node.js (یک endpoint ساده) - ایجاد صفحه اصلی HTML/CSS برای
نمایش لیست محصولات

**تحویل‌دادنی‌ها:** - اسکریپت کامل SQL - پروژه backend با endpoint تست
(hello world) - صفحه HTML ساده - آپدیت README با راه‌اندازی پروژه

------------------------------------------------------------------------

## جلسه سوم: پیاده‌سازی ثبت‌نام و ورود (Authentication)

**هدف:** ایجاد سیستم احراز هویت\
**موارد انجام‌شده:** - پیاده‌سازی فرم ثبت‌نام و ورود در frontend\
شامل: نام، آدرس، تلفن، رمز عبور\
- ایجاد API ثبت‌نام و ورود + hashing رمز عبور\
- افزودن مدیریت Session یا JWT

**تحویل‌دادنی‌ها:** - فرم‌های signup و login با استایل اولیه - APIهای
signup و login - تست دستی ثبت‌نام و ورود مدیر و کاربر - آپدیت README
شامل: - آدرس APIها\
- توضیح فیلدهای درخواست و پاسخ\
- نحوه تست\
- توضیح JWT (در صورت استفاده)\
- commit و push تمام کدهای جدید

------------------------------------------------------------------------

## جلسه چهارم: نقش‌ها و داشبورد (Role-Based Access)

**هدف:** تفکیک نقش‌ها (مدیر/کاربر) و ایجاد داشبورد\
**موارد انجام‌شده:** - پیاده‌سازی RBAC در backend با middleware نقش‌ها -
ایجاد داشبورد مدیر (لیست محصولات) - ایجاد داشبورد کاربر (سبد خرید
خالی) - افزودن logout

**تحویل‌دادنی‌ها:** - داشبورد frontend هر نقش - API دریافت اطلاعات
داشبورد - تست دستی دسترسی‌ها بر اساس نقش - آپدیت README شامل: - توضیح
middlewareها\
- نحوه تست دستی\
- آدرس صفحات داشبورد\
- commit و push کدها با پیام‌های واضح

------------------------------------------------------------------------

## جلسه پنجم: مدیریت محصولات توسط مدیر

**هدف:** امکان افزودن محصول توسط مدیر\
**موارد انجام‌شده:** - فرم ایجاد محصول شامل نام، توضیحات، قیمت، موجودی،
آپلود عکس - API ذخیره محصول در دیتابیس - نمایش لیست محصولات مدیر

**تحویل‌دادنی‌ها:** - فرم ثبت محصول + لیست محصولات - API مربوطه - تست ثبت
یک محصول با موجودی ۱۰ - آپدیت README

------------------------------------------------------------------------

## جلسه ششم: نمایش محصولات برای کاربران

**هدف:** نمایش عمومی محصولات\
**موارد انجام‌شده:** - صفحه لیست محصولات با کارت (نام، عکس، قیمت) - صفحه
جزئیات محصول با توضیحات + دکمه افزودن به سبد - API دریافت لیست و جزئیات
محصولات

**تحویل‌دادنی‌ها:** - صفحه لیست محصولات - صفحه جزئیات - تست مشاهده محصول -
آپدیت README

------------------------------------------------------------------------

## جلسه هفتم: پیاده‌سازی سبد خرید

**هدف:** مدیریت کامل سبد خرید\
**موارد انجام‌شده:** - افزودن دکمه Add to Cart در صفحه جزئیات - ایجاد
صفحه Cart با جدول محصولات: - نام، تعداد، قیمت واحد، مجموع - امکان تغییر
تعداد یا حذف - محاسبه مجموع قیمت - ذخیره سبد خرید در Session

**تحویل‌دادنی‌ها:** - کل سیستم سبد خرید در frontend - API برای مدیریت
سبد - تست افزودن/حذف/محاسبه مجموع - آپدیت README

------------------------------------------------------------------------

## جلسه هشتم: پیاده‌سازی ثبت سفارش

**هدف:** تکمیل سفارش با مدیریت موجودی و نمایش سفارش‌ها\
**موارد انجام‌شده:**

### بخش Frontend:
- ایجاد **فرم ثبت سفارش** در صفحه سبد خرید شامل:
  - فیلد "آدرس تحویل" (textarea)
  - دراپ‌داون "روش پرداخت" (پرداخت نقدی، کارت به کارت، پرداخت آنلاین)
  - چک‌باکس "پذیرش شرایط و قوانین"
  - دکمه "تأیید و ثبت سفارش"
- به‌روزرسانی تابع `cartCheckoutBtn` برای:
  - گرفتن داده‌های فرم
  - اعتبارسنجی فیلدها
  - ارسال درخواست POST به `/api/orders` با فیلدهای جدید
  - نمایش شماره سفارش در پیام موفقیت

### بخش Backend:
- **به‌روزرسانی دیتابیس:**
  - افزودن فیلدهای `shipping_address` و `payment_method` به جدول `orders`

- **API `/api/orders` (POST):**
  - دریافت `items`، `shipping_address`، `payment_method`
  - اعتبارسنجی موجودی محصولات (بررسی اینکه موجودی کافی است)
  - استفاده از Transaction برای اطمینان از انتقال داده‌های دقیق
  - کاهش خودکار موجودی محصولات بعد از ثبت سفارش
  - بازگشت شماره سفارش و مجموع مبلغ

- **API `/api/admin/orders` (GET):**
  - نمایش لیست تمام سفارش‌ها برای مدیر شامل:
    - شماره سفارش، نام مشتری، ایمیل، تلفن، مجموع مبلغ، وضعیت، تاریخ، لیست محصولات

- **API `/api/admin/orders/:id/status` (PUT):**
  - به‌روزرسانی وضعیت سفارش (pending → paid → shipped → completed/cancelled)

### بخش Admin Dashboard:
- افزودن **بخش مدیریت سفارش‌ها** در داشبورد مدیر:
  - جدول تمام سفارش‌ها
  - دراپ‌داون برای تغییر وضعیت سفارش
  - دکمه جزئیات برای مشاهده اطلاعات کامل سفارش (آدرس، روش پرداخت، لیست محصولات)

**تحویل‌دادنی‌ها:**
- فرم ثبت سفارش + پنل مدیریت سفارش‌ها در Frontend
- APIهای `/api/orders` (POST، GET، PUT) در Backend
- تست دستی:
  - ✅ ثبت سفارش با 2 محصول (مثلاً 3 عدد محصول اول و 2 عدد محصول دوم)
  - ✅ بررسی کاهش موجودی در لیست مدیر (باید به‌روز‌شده باشد)
  - ✅ نمایش شماره سفارش پس از ثبت
  - ✅ مشاهده سفارش در پنل مدیر
  - ✅ تغییر وضعیت سفارش
- آپدیت README شامل:
  - توضیح فیلدهای فرم سفارش
  - مثال‌های درخواست/پاسخ API
  - نحوه تست Transaction و کاهش موجودی
  - تصاویر UI جدید
- commit و push تمام کدها

------------------------------------------------------------------------

## پایان

این README شامل مستند کامل پیشرفت پروژه طی جلسات ۱ تا ۸ است و باید همراه
با commitهای مرتبط در مخزن پروژه قرار گیرد.

